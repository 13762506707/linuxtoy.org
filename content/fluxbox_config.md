Title: Fluxbox 配置点滴
Date: 2006-08-19 17:15
Author: toy
Category: Tips
Tags: Fluxbox
Slug: fluxbox_config

本文略述 Fluxbox 窗口管理器配置中最常用的方面，希望对你有所帮助。

<!-- PELICAN_END_SUMMARY -->

1. 如何编辑 Fluxbox 的菜单

    在《[Mini Howto: Fubuntu](http://linuxtoy.org/archives/fubuntu.html)》一文中，我曾说过可以通过在终端中执行指令 `fluxbox-generate_menu` 来生成一个 Fluxbox 桌面右键菜单。事实上，每当我们安装了新的程序之后，都可以再次执行该指令，以便更新菜单中新增的项目。如果你愿意更灵活的控制 Fluxbox 菜单，也许手动编辑会更好。让我们先来看一个例子：

        # Generated by fluxbox-generate_menu
        [begin] (Fluxbox)  
        [exec] (xterm) {xterm -ls -fg white -bg black -fn -misc-fixed-medium-r-normal--18-120-100-100-c-90-iso10646-1}  
        [submenu] (Net)  
        [exec] (gaim) {gaim}  
        [end]  
        [end]  

    这是截取自 ~/.fluxbox/menu 文件中的部分内容。从中我们可以了解到 Fluxbox 菜单配置文件的写法。# 后面为注释内容。我们知道，菜单是可以分级的，第一级菜单以 [begin] 和 [end] 配对，而第二级菜单则以 [submenu] 和 [end] 配对，如果在第二级菜单中包含同样的 [submenu] 和 [end]，那么就属于第三级菜单，其他则依次类推。现在我们继续拆解，() 中的内容为菜单项目的名称，而 {} 的内容则为需要执行的命令，可以加上命令参数和选项，也可以带上路径，不过也有仅供显示用的情况。[exec] 表示执行一个命令。有时候，我们还可以看到菜单项目的前面包含图标，只要在执行的命令后面加上 `<~/.icons/*.xpm>` 即可。举个实例，假如我要在第一级菜单中增加 Firefox 的菜单项目，可以这样写：

        [exec] (Firefox) {firefox}  

    另外，在 menu 文件中还有些有趣的内容：

    + [config] Fluxbox 的配置菜单  
    + [stylesdir] Fluxbox 的样式目录  
    + [workspaces] 工作区  
    + [commanddialog] 命令执行对话框  
    + [reconfig] 重载 Fluxbox 的配置  
    + [restart] 重新启动 Fluxbox，此时会回到登录界面  
    + [exit] 退出 Fluxbox  
    + [separator] 分隔线

    虽然有一些图形化的 Fluxbox 菜单编辑工具，如：[fluxMenu](http://fluxmenu.berlios.de)、[Fluxbox Menu Editor](http://fme.rhymux.info)、[fluxConf](http://devaux.fabien.free.fr/flux/) 等，不过你需要承担一定的风险。实际上，我当初使用 fluxConf 时，就出现了整个 menu 文件变成空白内容的情况。所以在做任何修改之前，备份原文件是非常有必要的。

2. 如何设置壁纸

    在终端中使用下列命令：

        fbsetbg ~/wallpaper.jpg  

    如果没有该命令，就安装 feh。例子中给出的是 jpg 格式的壁纸，实际上 png 格式也是支持的。不过这样做只是临时使用，下次重新启动又没有了，所以为了让 Fluxbox 记住你的壁纸设置，还需要在 ~/.fluxbox/init 文件中加入：

        session.screen0.rootCommand: fbsetbg -l  

3. 如何安装 Fluxbox 主题

    直接将下载的 Style 包释放到 ~/.fluxbox/styles 目录中即可。然后在 Fluxbox 的菜单中选择先前安装的主题就可以使用了。可能有的 Style 对中文支持不够好，比如窗口的标题或是底部的工具条显示为乱码，这时可以打开 Style 中的配置文件修改其中的字体。

4. 如何使 Fluxbox 的菜单、工具栏、窗口边框透明

    这是 Fluxbox 所支持的一个相当酷的特性。可以通过在桌面单击右键菜单，选择其中的 Fluxbox menu > Configure > Transparency 来实现。其中，Menu Alpha 控制的是菜单的透明度，其值介于 0~255 之间，数值越小，透明度越高。而 Window Alpha 则是控制窗口边框的透明度。工具栏的透明度可以通过在 Toolbar 上右击，选择其中的 Alpha 来控制。

5. 如何编辑工具栏中的日期、时间

    在默认状态下，Fluxbox 的工具栏仅显示时间，如果需要显示日期、星期，可以右击 Toolbar，在弹出的菜单中选择 Edit Clock Format，将其修改为 %a %d %b %k:%M。更为详细的日期及时间格式，可参考 [strftime](http://cn2.php.net/strftime)（感谢 jazzi 补充）。

6. 怎样使用 Tab

    这是另一个 Fluxbox 所提供的酷特性，使用鼠标中键将一个窗口的标签拖到另一个窗口的标签上，可以将其合并，这样直接通过选择标签便可以切换窗口，非常方便。

7. 怎样让程序自动启动

    可以通过编辑 ~/.fluxbox/apps 文件来实现，只需在其中加入 [startup] {程序文件命令} 即可，如：[startup] {gnome-settings-daemon}。

实际上，对于 Fluxbox 的配置远不止这些，容我日后用到再作补充吧。
