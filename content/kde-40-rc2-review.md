Title: 再看 KDE 4.0 RC2
Date: 2007-12-30 16:54
Author: toy
Category: Reviews
Slug: kde-40-rc2-review

[KDE](http://kdecn.org/) 4 是流行的 KDE 桌面环境的下一代版本，预计 2008
年 1 月 11 号正式发布。目前，KDE 开发团队发布的 KDE 4 最新版本为 [4.0
RC2](http://linuxtoy.org/archives/kde-40-rc-2-released.html)。KDE 4
究竟到了什么样的状态？作为一般的 KDE 桌面用户，有必要立即从 KDE 3.5.x
跟进吗？请看资深 KDE 用户千里孤坟网友对 KDE 4.0 RC2 的深入评论。

*作者/千里孤坟*

从 KDE 4 Preview 版开始，奴家就一直在跟进观测 KDE 4
最新的开发成果，不过最近一次系统的总结是 Alpha2 3.91 了，也许值此 RC2
3.97 发布，离 KDE 4 正式版近似咫尺的时候有必要再看看 KDE 4
到底目前是什么样子。要知道，它可以说已经定型了。

事先声明，以下所述一切可能和您的遭遇不符，它们并不是在绝对理想状况下得出的。

**Plasma**

KDE 4
在开发前期就曾宣布了一个又一个的计划，其中最受开发者推崇的项目之一就是桌面外壳“Plasma”。可能很多用户还不理解这是什么东西，奴家试着看图解释一下，下面这张图大致就是
KDE 4
的默认启动桌面，多开了一个程序以便让您看到任务栏的工作形态。这个桌面含有如下几个部分：

[![KDE 4.0 RC2
桌面](http://i.linuxtoy.org/i/kde4r2/kde4-fullscreen-thumb.jpg)](http://i.linuxtoy.org/i/kde4r2/kde4-fullscreen.jpg)  
*(点击放大)*

-   中间平铺的：狭义上的桌面，加一张壁纸。在 KDE 3 中，它由 kdesktop
    程序运作。
-   左下方的 K 图标：Kickoff 菜单。在 KDE 3 中，它是一个面板小程序，但在
    KDE 4 中可以独立运行。
-   下方的黑条：默认面板，上面可以容纳任务栏、菜单、系统托盘等等东西。在
    KDE 3 中，它由 kicker 程序运作。
-   右下方的三个东西：左边的是缩进到系统托盘的剪贴板管理程序，这里不用管它。中间一个是面板小程序，监视即插即用设备用的。右边的时钟，自然是老朋友了。
-   右上方的扳手：一个桌面部件的管理器。在 KDE 3 中有个叫 SuperKaramba
    的组件可以往桌面上添加可装卸的部件，通常都是养眼用的小程序。KDE 4
    整合了这种功能，就在这里。

您现在看到的一切，就是 Plasma
所展现的基本形态。换句话说，kdesktop+kicker+superkaramba+小程序+其它等等=Plasma。

Plasma
是个工作空间的大容器，比较专业一点的说法叫框架。在这个容器中，原先在 KDE
3 中各自独立的 kdesktop、kicker
等不再具有特殊性，和其它小程序同等地位，统统都成了这个容器下的部件。比如
kdesktop 的替代品桌面，现在它叫
plasma\_applet\_desktop；而那个即插即用设备监视器，叫
plasma\_applet\_devicenotifier。它们现在都是 plasma\_applet\_xxx。

对用户来说，桌面是叫 kdesktop 还是叫 plasma\_applet\_desktop
关系不大。它提供的功能更值得注重，但 Plasma
作为刚步入实用阶段的产品，尽管其开发框架已完备，但这种框架运筹下面向用户的成果还不够多，单就一个“配置桌面”对话框来说，它只有配置壁纸的功能，和
KDE 3 那个强大的对话框差别很大。还有，现在的 Plasma
桌面似乎已经抛弃了传统的桌面图标概念，以 RC2
来说，您不能直接在桌面上新建图标（也许会有个部件来替代此功能？）。当然，您还是可以从文件管理器里拖曳项目到桌面上，但这个项目在桌面上也同样是个标准的
Plasma 部件，不能按 GNOME/Windows 桌面图标那样对待和配置。

再看另一个新东西，程序启动器
KRunner，它现在支持命令补全，但对功能和界面的追求也造成了一些负面效应。在测试中发现它在尝试搜寻可补全的命令时界面会有短暂的冻结。不过在最新一期的
KDE 新闻中可以看到它已被加入了线程支持，顺利的话应该能解决这一缺憾。

新的 Kickoff 菜单是原 openSUSE 的成果，比标准的 KDE 3
菜单增加了搜索功能，并重新安排了菜单项的分级。但奴家认为这个菜单虽然界面元素更丰富，但削弱了提供给用户的信息量，如果用户要找一个程序，势必要经历更多的鼠标点击。不过对一些人来说，有个好消息是另外有个仿
KDE 3 风格的菜单已经初步可用了，在一定阶段后有望被纳入 KDE 4
成为替选组件。在这件事里也许我们可以明白一点东西——一种桌面设计，华丽和实用不冲突，但华而不实就有问题了。KDE
3 很好地实践了这点，KDE 4
则在某些地方需要更多的探索。如图，在这里您要返回上一层菜单需再点击一次：

![Kickoff](http://i.linuxtoy.org/i/kde4r2/kickoff.jpg)

我们现在可以基本认为，Plasma 作为 KDE 4
桌面的巨大革新，它抛弃了旧事物，组建了新事物的基石，但基石上还没有造出设施完备的楼宇，且工地本身也还需要大量的修缮。以奴家的视角，Plasma
的创新点在 KDE 4.0
中还来不及充分显现，它要将其它第三方程序的特定功能或特定的第三方资源（如在线漫画一类）和桌面外观充分结合才能发挥优势，比如现有的
plasma\_applet\_kget：将 Plasma 和下载管理器 KGet
结合起来，使下载进度直接以一个可装卸部件的形式贴附在桌面上。或是一个统一的进度管理器，将各应用程序的操作进度在一致的操作区域里供用户关注、管理。而这样的现成例子，还太少。

而这样做能否达到预期效果，很大程度上取决于其它开发者对 Plasma
的认可程度。

这里随附一个简单的 Plasma 部件工作状况，当奴家插入一张 USB
盘后，右下方的即插即用通知器很快就会有此显示：

![Hotplug](http://i.linuxtoy.org/i/kde4r2/hotplug.jpg)

再看一下比较全局的配置后 Plasma 桌面状况：

[![Plasma](http://i.linuxtoy.org/i/kde4r2/plasma.jpg)](http://i.linuxtoy.org/i/kde4r2/plasma.jpg)  
*(点击放大)*

在桌面上奴家放了五个部件，它们都是可随意拖动的。

-   左上部是从文件管理器拖过来的目录，其边缘告诉我们它也是一个 Plasma
    部件。比较令人不喜的是，这图标被截断了，而且目录名也没有显示。
-   右上部是一个桌面贴纸框，您可以将任一图片直接拖过去显示。这是个好东西，您可以将自己的亲人或爱人天天贴在上面看，和壁纸不冲突。不过谁能告诉自己怎么缩放它到原始的
    128x96 大小，不要生出那么多马赛克？也许有这功能，但没找到。
-   左下方本来要放的是个 3D 桌面地球仪，不过自己的 X
    显卡驱动比较落后，不支持它所需的 OpenGL 对象，只能作罢。
-   下中部是个 SVG 时钟，Plasma
    最早面世的可装卸桌面部件之一，设计很标准。以纪念的名义放在这里。
-   右下方是分页器。默认提供四个工作区，*NIX
    桌面的传统特性。因为不再固定只能放在面板上，所以操作更为灵活。

您有没有注意到一个问题，上面好几个部件的边缘操作区域都在同时显示。但按照理想状况，非活动中的部件边缘应该是被隐藏的，否则严重影响美观，RC2
版中很多时候确是如此。但——不可靠，有时在桌面操作中那些边缘自己就冒出来了。

相信看到这些图例，您可以理解上面奴家对 Plasma
目前的评价。它很有创意，但打磨不够，4.0 来不及让它充分发挥优势了。

**界面风格**

界面风格上，KDE 4 默认采用了
Oxygen——氧气系列的图标、控件风格、窗口装饰和配色方案。这套主题是亮色调的，特征是青绿自然，和
KDE 3
的蓝色水晶风格大相径庭。但就目前来说它的默认效果还不能令人很满意（当然可能是测试版人家懒得特别注重视觉），菜单项和下拉部分，以及窗口装饰和菜单栏的颜色一致，这导致它们之间的分界很难从视觉上区分，本来应该显眼的分隔线也被过亮的界面背景色所掩盖。而在图标方面，设计仍然沿循了
KDE 3
的蓝色基调，整体上看还不过不失，但光泽感似乎不够，也许是测试版的背景过于浓重所致的视觉反应。如图：

![Oxygen](http://i.linuxtoy.org/i/kde4r2/oxygen.jpg)

不过在目前看过的图标里，有一个自己非常喜欢。如图：

![Lance](http://i.linuxtoy.org/i/kde4r2/lance.jpg)

Lancelot
Launcher，另一个程序启动器。Lancelot（兰斯洛特）是大不列颠传奇故事中亚瑟王身边的十二圆桌骑士中最著名的一位，曾参与了亚瑟王寻找圣杯的旅程，尽管最后没有成功。我们可以看到，那个图标是以一座盛有耶稣之血的圣杯为造型，而这个造型，又和程序启动时经常出现的沙漏光标近似。将沙漏和圣杯的形状结合起来，程序名字又和功用结合得丝丝入扣，文化底蕴和实用意义相得益彰，在自己眼中这无疑是个可遇不可求的创意，期待还能有其它发现。

顺便一提，我们应该知道 KDE 4 基于 Qt 4 类库，而在 Qt 4 中新增的 2D
渲染引擎的名字，就是 Arthur（亚瑟）。KDE/Qt
开发者中一定有不止一名“吾王”的 fans。

在界面上我们还能看到一个显著的改变，就是应用程序的工具栏默认风格已由 KDE
3
中的“仅图标”改成了“文字在图标下”。在前几轮测试版中这种观感很糟，图标按钮过大、空白区域过多、占据的工具栏空间过宽。不过在
RC2
版中，奴家看到情况好很多了，按钮的大小现在被调整得恰如其分，以前印象不佳的各位可以再看看。不过自己还是喜欢打上默认“仅图标”的补丁，习惯了。

本来还有个值得一说的重点是 KDE 4 窗口管理器 KWin
的特效，但由于自己的试验机上显卡驱动不对头，OpenGL
效率很差，所以只能简单提一下。在 KDE 4 中，KWin 可以不需要
XGL、Beryl、Compiz
等第三方窗口体系就实现很多出彩的特效，比如关闭窗口时引发爆炸观感等。如果您还不知道在哪里打开的话，随便开启一个窗口，然后在窗口标题栏上打开鼠标右键菜单，选择“配置窗口行为”，新开的对话框里有个“桌面效果”栏目就是。

不过这里提供一个 youtube 上发现的视频，综合地演示了 KWin
窗口特效的表现，请看：

注意这个 KDE 4 还是运行在低端的华硕 Eee PC 上的。

**Solid 和 Phonon**

这两者都是 KDE 4 中新增的技术。Solid 是 Qt/KDE
风格的硬件编程接口，Phonon 是多媒体抽象层。

对开发者和高级用户来说，Solid 和 Phonon 也许的确可以带来很大的便利，其中
Solid 还有个命令行下的设备操作工具
solidshell。同时由于这两者支持多后端，它们也可以为 KDE 4
跨平台运行的长远目标产生巨大的影响力，例如针对 Windows 平台而设计的
Phonon-DirectShow 后端也已在准备中了。

不过对多数用户来说，它们和您的眼睛和手指关系不大。相信在多数用户眼中，插入一个
USB
盘，系统能正确识别；打开一首歌曲，系统能播放出来，这是作为计算机系统理所应当天经地义该完成的任务，如果可以实现，背后有多么突出的技术并不会受到关心；如果不能实现……那这系统肯定要被骂了。

归根到底，技术是原油，但用户真正关注的是原油转化成的能量，对原油的评价，还是交给真正的开发者吧。

**应用程序**

不同于 Plasma 下的桌面，KDE 4
里很多程序的可用性程度已经达到了相当的高度，毕竟这些程序可以直接在原有的基础上进步，而
Plasma 作了许多扬弃。

在上次的 Alpha2 3.91
笔记中奴家已经侧重对亮点程序作了许多介绍和截图，这些程序在 RC2
中显然更加稳定可靠。本篇不再对这些专门码字，参考链接：

<http://www.myswear.net/forum/viewthread.php?tid=8403>

补充一个上面的帖子没说到的，Konsole 现在支持对终端输出中 URL
的识别，您可以用右键菜单里直接访问到它，不需先复制粘贴。

![Konsole](http://i.linuxtoy.org/i/kde4r2/konsole.jpg)

额外说明，KDE 4 的第三方程序目前不丰富，大量 KDE 3
下的成熟软件还没有被移植过来，甚至 KDE 3
本已包含的一些程序和功能模块都还未被移植完全。如果您用 KDE 4 替换 KDE
3，很可能要为此头痛。在 KDE 4 正式版发布前后，奴家会针对 KDE 4 相对于
KDE 3
官方版的暂时性功能缺失作一次统计，到时您就明白了。举个例子：多协议即时通讯客户端
Kopete 在 KDE 4 中，没有摄像头支持、Jingle 语音会话支持和 Meanwhile
协议（ Lotus Sametime 用的）插件，这些恐怕要在 KDE 4.0.0
发布后逐步补全。

事实上 KDE 4
的开发平台刚稳定，其它很多第三方开发者的移植准备工作恐怕才开始不久。在这一大规模的转变完成之前，普通用户肯定会面临
KDE 4 实用程序缺乏的局面，此间 KDE 3 和 KDE 4
将在相当一段时间里并存，KDE 3 的流行不会很快被取代。最起码在 KDE 4.1
之前，奴家绝对不推荐非玩家性质的 *nix 桌面用户将 KDE 3 “升级”到 KDE
4，当然您可以分别安装，互勿冲突。以防万一的误解，在此强调一下只要基本类库在，KDE
3 和 KDE 4 的程序是可以在彼此的桌面环境下通用的。

**体积和性能**

可能有的用户关心 KDE 3 到 KDE 4
时环境有没有变得太臃肿。单就核心部分看，KDE 3 的基础包
arts+kdelibs+kdebase 大约是 241M，KDE 4 的确要大不少，基础包
kdelibs+kdebase+kdebase-workspace+kdebase-runtime+kdepimlibs 大约是
309M。不过在这里面，KDE 3 基础包中，默认的图标集是 19M；而 KDE 4
基础包中，默认的图标集有 90M。去掉这些，就实际的代码量来说 KDE 4 和 KDE
3 相差无几，并没有变得多臃肿，您可以放心。

二进制程序方面，KDE 3 的三个基础包分别 make install-strip
安装并剥壳，共计 143M。KDE 4
暂时缺少统计，因为奴家还没有一个纯净的基本包安装完后环境，有兴趣的各位可以统计下看看，kdelibs+kdebase+kdebase-workspace+kdebase-runtime+kdepimlibs
安装完并手动剥壳后，整个安装目录有多大。参照 KDE 3 的状况，估测是 250M
左右。

如果完全安装，KDE 4 是 700M 多，略大于一张普通 CD
容量。但这里面包括各种游戏、多媒体工具、图像工具、辅助工具、网络工具、教学工具、基础开发工具、个人信息管理工具、额外的屏保和壁纸、文档、开发用头文件等等。在实际环境中，很少有用户用得到全部，发行版会针对需要作拆包，以便用户选择合适的组件选择性安装。所以，这种总量其实根本不算大，如果要拿其它什么系统作对比，起码双方所涵盖的内容要对等吧。

前段时间奴家看到不知哪流传出的谣言说：KDE 4 现在有 4G
多了吧，我说完全安装——这当然是无稽之谈了。

在性能上，KDE 4 单一程序的启动比 KDE 3
更快，这是直观的感受，不过整个桌面的启动速度差不多。有些地方的操作会有一点凝滞感，主要体现在对
plasma\_applet\_desktop 的桌面操作上，Plasma 需要进一步改进是显然的。

另外奴家测试了一些主要应用程序。文件管理器 Dolphin 打开有 2000
多个文件的 /usr/bin
目录不到一秒，应该不是一次全部载入，若反复进入更接近于无缝。Okular 对
PDF 等大多数文件类型的载入和 KDE 3 中的 KPDF 类似，很流畅，只是打开 CHM
文件时要在后台解压，速度较慢。

额外的，奴家对 Konqueror 4 作了一次 JavaScript 速度测试，测试站点：

<http://celtickane.com/webdesign/jsspeed.php>

Konqueror 4 在首次测试中得分为 500 左右，后续测试得分均在 440
多。作为对比，Konqueror 3 首次测试得分为 820 多，后续测试基本为 800
出头。Firefox 1.5.07 首次测试得分 2000 多，后续测试为 1700 左右。Opera
9.22 始终保持在 400 上下。以上均为同机。

显然，Konqueror 4 的 JS 运算速度目前虽略逊于 Opera，但和 IE 和 Firefox
比已有巨大的速度优势，甚至拿 Konqueror 3 比也是如此。

**个人尾注**

虽然 KDE 官方网站上打出了倒计时横幅：XX days left until the dreams
become reality，但以常规桌面用户的视角出发，在 KDE 4
发布后的一段时间内，KDE 3.5 仍然会是 *NIX
平台上最完备、精致、可靠、实用的桌面环境，不建议各位拿它替换 KDE
3，也不建议作主要的日常使用平台（开发人员？早就该工作在 KDE 4 下了）。

KDE 4.0 的目标是什么，奴家想官方的声明足够可信了：

> About KDE 4
>
> KDE 4 is the next generation of the popular KDE Desktop Environment
> which seeks to fulfill the need for a powerful yet easy to use desktop
> for UNIX and LINUX workstations. The aim of the KDE project for the
> 4.0 release is to put the foundations in place for future innovations
> on the Free Desktop. The many newly introduced technologies
> incorporated in the KDE libraries will make it easier for developers
> to add rich functionality to their applications, combining and
> connecting different components in any way they want.

简单地说，KDE 4.0
系列就是为打好基础而存在的。它如果能建立好一个稳固的基本框架，吸引足够多的开发人员（再加上已有）为日后的
KDE 4
桌面添砖加瓦，那就是所期待的成功。而作为桌面用户，显然希望使用的不只是一个基础平台，桌面用户需要更实际更可靠的上层架构组合，还有广泛的第三方程序支持，这些需要时间的积累才能实现，期待明年
1 月的 KDE 4.0 一步到位是不切实际的，KDE 社区也会充分接受这一规律。

把 KDE 4.0 当作 KDE4 1.0 吧。这是奴家的建议。

[此文已获作者授权，原载《云帆论坛》的“[KDE
的世界](http://www.myswear.net/forum/viewthread.php?tid=8871)”板块]
